import{r as a,u as B,a as k,l as w,j as e}from"./index-40141cf2.js";import{k as F,a as T,Q as y}from"./ReactToastify-2a9c7b1c.js";import{S as D}from"./Spinner-005c7f18.js";const z=()=>{let[i,c]=a.useState(""),[h,p]=a.useState("Amadi Chile"),[n,m]=a.useState(""),[o,x]=a.useState(""),[g,j]=a.useState("");a.useState({state:!1,err:""});let d=B(),C=k(w),[f,v]=a.useState(),[b,r]=a.useState(!1),[u,S]=a.useState("");//! toast step: 2
const E=()=>y.error(f,{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});function A(t){r(!0),t.preventDefault();let l=new FormData;l.append("author",h),l.append("title",i),l.append("content",o),l.append("date",n),l.append("img",g),T({method:"post",url:"http://localhost:5000/api_cohort10/blog",data:l,headers:{"Content-Type":"multipart/form-data",Accept:"*/*",jwt:C.data.token}}).then(s=>{s.data.status&&(r(!1),d("/blog")),s.data.err&&(r(!1),v(s.data.err),setTimeout(()=>{E()},1))}).catch(s=>{console.log(s.message)})}return e.jsx(e.Fragment,{children:e.jsxs("div",{id:"CreateBlog",children:[e.jsx("h2",{children:"Create a Blog"}),e.jsxs("form",{onSubmit:t=>A(t),encType:"multipart/form-data",children:[e.jsxs("fieldset",{children:[e.jsxs("label",{htmlFor:"title",children:["Title",e.jsx("span",{children:"*"})," "]}),e.jsx("input",{placeholder:"blog title here",type:"text",name:"title",id:"title",value:i,onChange:t=>c(t.target.value),required:!0,autoComplete:"true"})]}),e.jsxs("fieldset",{children:[e.jsx("label",{htmlFor:"author",children:"Author"}),e.jsxs("select",{onChange:t=>p(t.target.value),name:"author",id:"author",autoComplete:"true",children:[e.jsx("option",{value:"Amadi Chile",children:"Amadi Chile"}),e.jsx("option",{value:"Blessing Essien A",children:"Blessing Essien A"}),e.jsx("option",{value:"Caleb Z",children:"Caleb Z"}),e.jsx("option",{value:"Elvis Eze",children:"Elvis Eze"}),e.jsx("option",{value:"Oz P",children:"Oz P"}),e.jsx("option",{value:"Chika T",children:"Chika T"})]})]}),e.jsxs("fieldset",{children:[e.jsxs("label",{htmlFor:"date",children:["Date",e.jsx("span",{children:"*"})," "]}),e.jsx("input",{type:"date",name:"date",id:"date",value:n,onChange:t=>m(t.target.value),required:!0,autoComplete:"true"})]}),e.jsxs("fieldset",{children:[e.jsxs("label",{htmlFor:"img",children:["Image",e.jsx("span",{children:"*"})," "]}),e.jsxs("div",{className:"inline",children:[e.jsx("input",{type:"file",name:"img",id:"img",onChange:t=>{j(t.target.files[0]),S(URL.createObjectURL(t.target.files[0]))},required:!0}),u&&e.jsx("img",{height:40,width:40,src:u,alt:"preview"})]})]}),e.jsxs("fieldset",{children:[e.jsxs("label",{htmlFor:"content",children:["Content",e.jsx("span",{children:"*"})," "]}),e.jsx("textarea",{placeholder:"Blog content here",name:"content",id:"content",cols:"30",rows:"10",value:o,onChange:t=>x(t.target.value),required:!0,autoComplete:"true"})]}),e.jsxs("div",{className:"btns",children:[e.jsx("button",{onClick:t=>d("/blog"),className:"cancel",children:"Cancel"}),e.jsx("button",{className:"create",children:"Create Blog"}),b&&e.jsx(D,{})]})]}),e.jsx(F,{})]})})};export{z as default};
