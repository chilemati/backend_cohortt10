import{d as c,r as u,b as z,l as L,u as _,j as a,L as N}from"./index-40141cf2.js";import{k as T,a as P,Q as k}from"./ReactToastify-2a9c7b1c.js";var v={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},x=c.createContext&&c.createContext(v),i=globalThis&&globalThis.__assign||function(){return i=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},i.apply(this,arguments)},A=globalThis&&globalThis.__rest||function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(t[n[s]]=e[n[s]]);return t};function j(e){return e&&e.map(function(r,t){return c.createElement(r.tag,i({key:t},r.attr),j(r.child))})}function w(e){return function(r){return c.createElement(D,i({attr:i({},e.attr)},r),j(e.child))}}function D(e){var r=function(t){var n=e.attr,s=e.size,m=e.title,f=A(e,["attr","size","title"]),h=s||t.size||"1em",l;return t.className&&(l=t.className),e.className&&(l=(l?l+" ":"")+e.className),c.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,f,{className:l,style:i(i({color:e.color||t.color},t.style),e.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),m&&c.createElement("title",null,m),e.children)};return x!==void 0?c.createElement(x.Consumer,null,function(t){return r(t)}):r(v)}function F(e){return w({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function B(e){return w({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}const R=()=>{let[e,r]=u.useState(""),[t,n]=u.useState(""),[s,m]=u.useState({state:!1,err:""}),[f,h]=z(L),[l,p]=u.useState("password"),y=_(),[b,C]=u.useState();//! toast step: 2
const E=()=>k.error(b,{position:"bottom-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"});function O(o){o.preventDefault();let g=new FormData;g.append("email",e),g.append("password",t),P({method:"post",url:"http://localhost:5000/api_cohort10/signin",data:g,headers:{"Content-Type":"application/json",Accept:"*/*"}}).then(d=>{d.data.status&&(h({state:!0,data:d.data.data}),y("/blog")),d.data.err&&(C(d.data.err),setTimeout(()=>{E()},10))}).catch(d=>{console.log(d.message),m({...s,err:"Wrong email or password"})})}function S(){p(l==="password"?"text":"password")}return a.jsxs("div",{id:"Login",children:[a.jsx("h2",{children:"Please Login to Continue"}),a.jsxs("form",{onSubmit:o=>O(o),encType:"multipart/form-data",children:[a.jsxs("fieldset",{children:[a.jsxs("label",{htmlFor:"email",children:["Email",a.jsx("span",{children:"*"})," "]}),a.jsx("input",{placeholder:"example@gmail.com",type:"email",name:"email",id:"email",value:e,onChange:o=>r(o.target.value)})]}),a.jsxs("fieldset",{children:[a.jsxs("label",{htmlFor:"password",children:["Password",a.jsx("span",{children:"*"})," "]}),a.jsxs("div",{className:"Line",children:[a.jsx("input",{placeholder:"minimun of 8 characters",type:l,name:"password",id:"password",min:8,value:t,onChange:o=>n(o.target.value)}),a.jsxs("span",{onClick:o=>S(),children:[" ",l==="password"?a.jsx(F,{}):a.jsx(B,{})," "]})]})]}),a.jsxs("div",{className:"btns",children:[a.jsx("button",{children:"Login"}),a.jsxs("span",{children:["Don't have an Account? ",a.jsx(N,{to:"/signup",children:"SignUp"})," "]})]})]}),a.jsx(T,{})]})};export{R as default};
